<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enoc Portillo — Portafolio</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
  <!-- Estilos personalizados -->
  <link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!-- ===== NAVBAR ===== -->
<nav class="navbar navbar-expand-lg navbar-dark fixed-top shadow-sm glass-nav">
  <div class="container">
    <a class="navbar-brand fw-bold" href="#">Enoc</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto fw-semibold">
        <li class="nav-item"><a class="nav-link" href="#inicio">Inicio</a></li>
        <li class="nav-item"><a class="nav-link" href="#sobre-mi">Sobre mí</a></li>
        <li class="nav-item"><a class="nav-link" href="#proyectos">Proyectos</a></li>
        <li class="nav-item"><a class="nav-link" href="#contacto">Contacto</a></li>
      </ul>
    </div>
  </div>
</nav>

<!-- ===== HERO ===== -->
<header id="inicio" class="hero d-flex align-items-center text-center text-white">
  <div class="container">
    <img src="img/perfil.jpg" class="rounded-circle shadow mb-4" width="150" alt="Axel">
    <h1 class="display-5 fw-bold mb-3">Hola, soy <span class="text-warning">Enoc Portillo</span></h1>
    <p class="lead mb-4">Desarrollador Web | Java | Python | IoT | Data Engineering</p>
    <a href="#proyectos" class="btn btn-warning btn-lg fw-semibold px-4">
      <i class="fas fa-rocket me-2"></i>Ver proyectos
    </a>
  </div>
</header>

<!-- ===== SOBRE MÍ ===== -->
<section id="sobre-mi" class="py-5 bg-light">
  <div class="container">
    <div class="row align-items-center g-5">
      <div class="col-lg-6">
        <h2 class="fw-bold text-primary mb-3">Sobre mí</h2>
        <p class="mb-3">Soy estudiante de Ingeniería en Sistemas Computacionales en el ITSH. Me apasiona crear soluciones tecnológicas que combinen diseño y funcionalidad — desde aplicaciones web con Java, Python y MongoDB hasta proyectos IoT con ESP32 y sensores.</p>
        <p class="mb-4">Actualmente desarrollo proyectos de práctica usando GitHub, Appwrite y Bootstrap para fortalecer mis habilidades Full Stack y DevOps en la nube AWS.</p>
        <a href="#contacto" class="btn btn-primary"><i class="fas fa-envelope me-2"></i>Contáctame</a>
      </div>
      <div class="col-lg-6 text-center">
        <img src="img/proyecto1.jpg" class="img-fluid rounded shadow-lg" alt="Coding desk">
      </div>
    </div>
  </div>
</section>

<!-- ===== PROYECTOS ===== -->
<section id="proyectos" class="py-5">
  <div class="container text-center">
    <h2 class="fw-bold text-primary mb-5">Proyectos Destacados</h2>
    <div class="row g-4">
      <div class="col-md-4">
        <div class="card border-0 shadow-lg h-100 project-card">
          <img src="img/proyecto1.jpg" class="card-img-top" alt="TuProgreso">
          <div class="card-body">
            <h5 class="card-title fw-bold">TuProgreso — Sistema de Tutorías ITSH</h5>
            <p class="text-muted small">App JavaFX + Spring Boot + PostgreSQL para gestionar asistencias y eventos académicos en LAN.</p>
            <a href="#" class="btn btn-outline-primary btn-sm">Ver detalles</a>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card border-0 shadow-lg h-100 project-card">
          <img src="img/proyecto1.jpg" class="card-img-top" alt="VitalSync">
          <div class="card-body">
            <h5 class="card-title fw-bold">VitalSync — Salud IoT</h5>
            <p class="text-muted small">Monitor biométrico con ESP32 y MAX30102 + Google Maps para registro de pacientes en PHP y MySQL.</p>
            <a href="#" class="btn btn-outline-primary btn-sm">Ver detalles</a>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card border-0 shadow-lg h-100 project-card">
          <img src="img/proyecto1.jpg" class="card-img-top" alt="Genshin Manager">
          <div class="card-body">
            <h5 class="card-title fw-bold">Genshin Manager — CRUD MongoDB</h5>
            <p class="text-muted small">Aplicación web autocontenida para gestionar personajes, armas y artefactos usando Bootstrap + PHP.</p>
            <a href="#" class="btn btn-outline-primary btn-sm">Ver detalles</a>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ===== CONTACTO ===== -->
<section id="contacto" class="py-5 bg-light text-center">
  <div class="container">
    <h2 class="fw-bold text-primary mb-4">Contacto</h2>
    <p class="mb-4 text-muted">¿Te interesa colaborar conmigo o conocer más de mis proyectos?</p>
    <a href="mailto:axelleon@example.com" class="btn btn-primary btn-lg">
      <i class="fas fa-envelope me-2"></i>Enviar Correo
    </a>
  </div>
</section>

<!-- ===== FOOTER ===== -->
<footer class="text-white text-center py-4 footer-grad">
  <p class="mb-0">© <span id="year"></span> Ángel Axel León Arreola · Desarrollado con ❤️ y Bootstrap 5</p>
</footer>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>


<script type="module">
  import { client } from "./lib/appwrite.js";
  import { AppwriteException } from "appwrite";
  import "@appwrite.io/pink-icons";

  document.addEventListener("DOMContentLoaded", () => {
    let logs = [];
    let status = "idle";
    let showLogs = false;

    const detailsRef = document.getElementById("logs-details");
    const main = document.getElementById("main");
    const statusMessage = document.getElementById("status-message");
    const statusDescription = document.getElementById("status-description");
    const pingButton = document.getElementById("ping-button");
    const loadingSpinner = document.getElementById("loading-spinner");
    const successIcon = document.getElementById("success-icon");
    const logCount = document.getElementById("log-count");
    const logCountValue = document.getElementById("log-count-value");
    const logTable = document.getElementById("log-table");

    const updateHeight = () => {
      if (detailsRef) {
        const height = detailsRef.clientHeight;
        main.style.marginBottom = `${height}px`;
      }
    };

    window.addEventListener("resize", updateHeight);

    detailsRef.addEventListener("toggle", updateHeight);

    async function sendPing() {
      if (status === "loading") return;
      status = "loading";
      statusMessage.textContent = "";
      statusDescription.textContent = "";
      pingButton.style.display = "none";
      loadingSpinner.style.display = "flex";

      try {
        const result = await client.ping();
        const log = {
          date: new Date(),
          method: "GET",
          path: "/v1/ping",
          status: 200,
          response: JSON.stringify(result),
        };
        logs.unshift(log);
        status = "success";
        statusMessage.textContent = "Congratulations!";
        statusDescription.textContent = "You connected your app successfully.";

        updateLogs();
      } catch (err) {
        const log = {
          date: new Date(),
          method: "GET",
          path: "/v1/ping",
          status: err instanceof AppwriteException ? err.code : 500,
          response: err instanceof AppwriteException ? err.message : "Something went wrong",
        };
        logs.unshift(log);
        status = "error";
        statusMessage.textContent = "Check connection";
        statusDescription.textContent = "Send a ping to verify the connection";
        updateLogs();
      }
      pingButton.style.display = "block";
      loadingSpinner.style.display = "none";
      successIcon.style.opacity = status === "success" ? "100" : "0";
      showLogs = true;
    }

    const updateLogs = () => {
      logTable.innerHTML = "";
      if (logs.length > 0) {
        logCount.style.display = "flex";
        logCountValue.textContent = logs.length;
        logs.forEach((log) => {
          const row = document.createElement("tr");
          row.innerHTML = `
          <td class="py-2 pl-4 font-[Fira_Code]">${log.date.toLocaleString("en-US", {
            month: "short",
            day: "numeric",
            hour: "2-digit",
            minute: "2-digit",
          })}</td>
          <td>
            <div class="w-fit rounded-sm ${log.status > 400 ? "bg-[#FF453A3D] text-[#B31212]" : "bg-[#10B9813D] text-[#0A714F]"} px-1">
              ${log.status}
            </div>
          </td>
          <td>${log.method}</td>
          <td class="hidden lg:table-cell">${log.path}</td>
          <td class="hidden font-[Fira_Code] lg:table-cell">${log.response}</td>
        `;
          logTable.appendChild(row);
        });
      } else {
        logCount.style.display = "none";
        const row = document.createElement("tr");
        row.innerHTML = `<td class="py-2 pl-4 font-[Fira_Code]">There are no logs to show</td>`;
        logTable.appendChild(row);
      }
    };

    pingButton.addEventListener("click", sendPing);
    document.getElementById('project-endpoint').textContent = import.meta.env.VITE_APPWRITE_ENDPOINT;
    document.getElementById('project-id').textContent = import.meta.env.VITE_APPWRITE_PROJECT_ID;
    document.getElementById('project-name').textContent = import.meta.env.VITE_APPWRITE_PROJECT_NAME;
    updateHeight();
  });
</script>
</body>
</html>
